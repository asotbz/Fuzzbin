{
  "openapi": "3.1.0",
  "info": {
    "title": "Fuzzbin API",
    "description": "Music video library management API.\nProvides CRUD operations for videos, artists, collections, and tags,\nwith full-text search and filtering capabilities.\n\n## Authentication\n\nWhen authentication is enabled (`FUZZBIN_API_AUTH_ENABLED=true`), protected endpoints require\na Bearer token in the `Authorization` header:\n\n```\nAuthorization: Bearer <your-jwt-token>\n```\n\nObtain a token via `POST /auth/token` with username/password credentials.\n\n## WebSocket API\n\n### Real-time Job Progress: `/ws/jobs/{job_id}`\n\nConnect to receive live progress updates for background jobs.\n\n**Connection:**\n```\nws://localhost:8000/ws/jobs/{job_id}\n```\n\n**Message Format (JSON):**\n```json\n{\n  \"job_id\": \"uuid-string\",\n  \"status\": \"running\",\n  \"progress\": 0.45,\n  \"message\": \"Processing file 45 of 100\",\n  \"result\": null\n}\n```\n\n**Fields:**\n- `job_id`: Job identifier\n- `status`: One of `pending`, `running`, `completed`, `failed`, `cancelled`\n- `progress`: Float 0.0-1.0 indicating completion percentage\n- `message`: Human-readable status message\n- `result`: Job result data (populated on completion)\n\n**Close Codes:**\n- `1008` (Policy Violation): Invalid or unknown job ID\n- `1011` (Internal Error): Server error during progress streaming\n",
    "version": "0.1.0"
  },
  "paths": {
    "/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Health check",
        "description": "Check API health status.\n\nReturns basic health information including API version.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Health status of the API",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Authenticate user",
        "description": "Authenticate a user and return JWT tokens.\n\nValidates username and password, returns access and refresh tokens\non successful authentication.\n\nIf the user's password_must_change flag is set, returns 403 with\ninstructions to use /auth/set-initial-password endpoint.\n\nRate limited: 5 failed attempts per minute per IP address.",
        "operationId": "login_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful authentication",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          },
          "401": {
            "description": "Invalid credentials"
          },
          "403": {
            "description": "Password change required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PasswordRotationRequiredResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too many failed attempts"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Refresh access token",
        "description": "Refresh an access token using a valid refresh token.\n\nReturns new access and refresh tokens.",
        "operationId": "refresh_token_auth_refresh_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "New tokens issued",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or expired refresh token"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/password": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Change password",
        "description": "Change the password for the authenticated user.\n\nRequires authentication. Validates current password before updating.\nAfter password change, all existing tokens for this user are invalidated.",
        "operationId": "change_password_auth_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordChangeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Password changed successfully"
          },
          "400": {
            "description": "Invalid current password or new password requirements not met"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/auth/logout": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Logout and revoke tokens",
        "description": "Logout and revoke the current access token.\n\nThe provided Bearer token will be added to the revocation list,\npreventing it from being used again even if it hasn't expired.\n\nClients should also discard their refresh token after logout.",
        "operationId": "logout_auth_logout_post",
        "responses": {
          "204": {
            "description": "Tokens revoked successfully"
          },
          "401": {
            "description": "Invalid or missing token"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/auth/set-initial-password": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Set initial password for first-time setup",
        "description": "Set a new password for users requiring password rotation.\n\nThis endpoint is used during first-time setup or when an admin has\nreset a user's password. It validates the current password, sets\nthe new password, clears the password_must_change flag, and returns\nauthentication tokens.\n\nUnlike /auth/password, this endpoint does not require prior authentication\nand is specifically for users who cannot log in due to password rotation\nrequirements.",
        "operationId": "set_initial_password_auth_set_initial_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetInitialPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Password changed, tokens issued",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid current password or new password requirements not met"
          },
          "401": {
            "description": "Invalid credentials"
          },
          "403": {
            "description": "Password rotation not required for this user"
          },
          "429": {
            "description": "Too many failed attempts"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/videos": {
      "get": {
        "tags": [
          "Videos"
        ],
        "summary": "List videos",
        "description": "Get a paginated list of videos with optional filters and sorting.",
        "operationId": "list_videos_videos_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Sort field",
              "default": "created_at",
              "title": "Sort By"
            },
            "description": "Sort field"
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Sort order: asc or desc",
              "default": "desc",
              "title": "Sort Order"
            },
            "description": "Sort order: asc or desc"
          },
          {
            "name": "title",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by title",
              "title": "Title"
            },
            "description": "Filter by title"
          },
          {
            "name": "artist",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by artist",
              "title": "Artist"
            },
            "description": "Filter by artist"
          },
          {
            "name": "album",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by album",
              "title": "Album"
            },
            "description": "Filter by album"
          },
          {
            "name": "director",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by director",
              "title": "Director"
            },
            "description": "Filter by director"
          },
          {
            "name": "genre",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by genre",
              "title": "Genre"
            },
            "description": "Filter by genre"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status",
              "title": "Status"
            },
            "description": "Filter by status"
          },
          {
            "name": "year",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by year",
              "title": "Year"
            },
            "description": "Filter by year"
          },
          {
            "name": "year_min",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Minimum year",
              "title": "Year Min"
            },
            "description": "Minimum year"
          },
          {
            "name": "year_max",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Maximum year",
              "title": "Year Max"
            },
            "description": "Maximum year"
          },
          {
            "name": "imvdb_video_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by IMVDb ID",
              "title": "Imvdb Video Id"
            },
            "description": "Filter by IMVDb ID"
          },
          {
            "name": "youtube_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by YouTube ID",
              "title": "Youtube Id"
            },
            "description": "Filter by YouTube ID"
          },
          {
            "name": "collection_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by collection",
              "title": "Collection Name"
            },
            "description": "Filter by collection"
          },
          {
            "name": "collection_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by collection ID",
              "title": "Collection Id"
            },
            "description": "Filter by collection ID"
          },
          {
            "name": "tag_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by tag",
              "title": "Tag Name"
            },
            "description": "Filter by tag"
          },
          {
            "name": "tag_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by tag ID",
              "title": "Tag Id"
            },
            "description": "Filter by tag ID"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Full-text search",
              "title": "Search"
            },
            "description": "Full-text search"
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include soft-deleted",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include soft-deleted"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_VideoResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Videos"
        ],
        "summary": "Create video",
        "description": "Create a new video record.",
        "operationId": "create_video_videos_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VideoCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/videos/{video_id}": {
      "get": {
        "tags": [
          "Videos"
        ],
        "summary": "Get video by ID",
        "description": "Get detailed information about a specific video.",
        "operationId": "get_video_videos__video_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include if soft-deleted",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include if soft-deleted"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Videos"
        ],
        "summary": "Update video",
        "description": "Update video metadata. Only provided fields are updated.",
        "operationId": "update_video_videos__video_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VideoUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Videos"
        ],
        "summary": "Soft delete video",
        "description": "Soft delete a video (can be restored later).",
        "operationId": "delete_video_videos__video_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/videos/{video_id}/status": {
      "patch": {
        "tags": [
          "Videos"
        ],
        "summary": "Update video status",
        "description": "Update the status of a video with optional reason and metadata.",
        "operationId": "update_video_status_videos__video_id__status_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VideoStatusUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/videos/{video_id}/tags/{tag_id}": {
      "post": {
        "tags": [
          "Videos"
        ],
        "summary": "Add tag to video",
        "description": "Add a tag to a video.",
        "operationId": "add_video_tag_videos__video_id__tags__tag_id__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          },
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Tag Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Videos"
        ],
        "summary": "Remove tag from video",
        "description": "Remove a tag from a video.",
        "operationId": "remove_video_tag_videos__video_id__tags__tag_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          },
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Tag Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/videos/{video_id}/restore": {
      "post": {
        "tags": [
          "Videos"
        ],
        "summary": "Restore video",
        "description": "Restore a soft-deleted video.",
        "operationId": "restore_video_videos__video_id__restore_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/videos/{video_id}/permanent": {
      "delete": {
        "tags": [
          "Videos"
        ],
        "summary": "Permanently delete video",
        "description": "Permanently delete a video. This cannot be undone.",
        "operationId": "hard_delete_video_videos__video_id__permanent_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/videos/{video_id}/status-history": {
      "get": {
        "tags": [
          "Videos"
        ],
        "summary": "Get status history",
        "description": "Get the status change history for a video.",
        "operationId": "get_video_status_history_videos__video_id__status_history_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/VideoStatusHistoryEntry"
                  },
                  "title": "Response Get Video Status History Videos  Video Id  Status History Get"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/videos/{video_id}/stream": {
      "get": {
        "tags": [
          "Videos"
        ],
        "summary": "Stream video file",
        "description": "Stream video file with HTTP Range support for seeking.",
        "operationId": "stream_video_videos__video_id__stream_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          },
          {
            "name": "Range",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Range"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Full video file (no Range header)",
            "content": {
              "application/json": {
                "schema": {}
              },
              "video/*": {}
            }
          },
          "206": {
            "description": "Partial content (Range header provided)",
            "content": {
              "video/*": {}
            }
          },
          "404": {
            "description": "Video not found or no file associated"
          },
          "416": {
            "description": "Requested range not satisfiable"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/videos/{video_id}/thumbnail": {
      "get": {
        "tags": [
          "Videos"
        ],
        "summary": "Get video thumbnail",
        "description": "Get or generate a thumbnail image for a video.",
        "operationId": "get_video_thumbnail_videos__video_id__thumbnail_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          },
          {
            "name": "regenerate",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Force thumbnail regeneration",
              "default": false,
              "title": "Regenerate"
            },
            "description": "Force thumbnail regeneration"
          },
          {
            "name": "timestamp",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Timestamp in seconds to extract frame from",
              "title": "Timestamp"
            },
            "description": "Timestamp in seconds to extract frame from"
          }
        ],
        "responses": {
          "200": {
            "description": "Thumbnail image",
            "content": {
              "application/json": {
                "schema": {}
              },
              "image/jpeg": {}
            }
          },
          "404": {
            "description": "Video not found or no file associated"
          },
          "500": {
            "description": "Thumbnail generation failed"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/artists": {
      "get": {
        "tags": [
          "Artists"
        ],
        "summary": "List artists",
        "description": "Get a paginated list of artists.",
        "operationId": "list_artists_artists_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by name (partial match)",
              "title": "Name"
            },
            "description": "Filter by name (partial match)"
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include soft-deleted",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include soft-deleted"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_ArtistResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Artists"
        ],
        "summary": "Create or update artist",
        "description": "Create a new artist or update if name already exists (upsert).",
        "operationId": "create_artist_artists_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ArtistCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ArtistResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/artists/{artist_id}": {
      "get": {
        "tags": [
          "Artists"
        ],
        "summary": "Get artist by ID",
        "description": "Get detailed information about a specific artist.",
        "operationId": "get_artist_artists__artist_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "artist_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Artist Id"
            }
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include if soft-deleted",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include if soft-deleted"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ArtistResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Artists"
        ],
        "summary": "Update artist",
        "description": "Update artist information. Only provided fields are updated.",
        "operationId": "update_artist_artists__artist_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "artist_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Artist Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ArtistUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ArtistResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Artists"
        ],
        "summary": "Soft delete artist",
        "description": "Soft delete an artist.",
        "operationId": "delete_artist_artists__artist_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "artist_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Artist Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/artists/{artist_id}/videos": {
      "get": {
        "tags": [
          "Artists"
        ],
        "summary": "Get artist's videos",
        "description": "Get videos associated with an artist.",
        "operationId": "get_artist_videos_artists__artist_id__videos_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "artist_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Artist Id"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "role",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by role (primary/featured)",
              "title": "Role"
            },
            "description": "Filter by role (primary/featured)"
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include soft-deleted",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include soft-deleted"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_VideoResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/artists/{artist_id}/videos/{video_id}": {
      "post": {
        "tags": [
          "Artists"
        ],
        "summary": "Link artist to video",
        "description": "Link an artist to a video with specified role.",
        "operationId": "link_artist_to_video_artists__artist_id__videos__video_id__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "artist_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Artist Id"
            }
          },
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          },
          {
            "name": "role",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Artist role: primary or featured",
              "default": "primary",
              "title": "Role"
            },
            "description": "Artist role: primary or featured"
          },
          {
            "name": "position",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Position in credits",
              "default": 0,
              "title": "Position"
            },
            "description": "Position in credits"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Artists"
        ],
        "summary": "Unlink artist from video",
        "description": "Remove the link between an artist and a video.",
        "operationId": "unlink_artist_from_video_artists__artist_id__videos__video_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "artist_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Artist Id"
            }
          },
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/collections": {
      "get": {
        "tags": [
          "Collections"
        ],
        "summary": "List collections",
        "description": "Get a paginated list of collections.",
        "operationId": "list_collections_collections_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by name (partial match)",
              "title": "Name"
            },
            "description": "Filter by name (partial match)"
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include soft-deleted",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include soft-deleted"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_CollectionResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Collections"
        ],
        "summary": "Create collection",
        "description": "Create a new collection.",
        "operationId": "create_collection_collections_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CollectionCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CollectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/collections/{collection_id}": {
      "get": {
        "tags": [
          "Collections"
        ],
        "summary": "Get collection by ID",
        "description": "Get detailed information about a specific collection.",
        "operationId": "get_collection_collections__collection_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Collection Id"
            }
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include if soft-deleted",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include if soft-deleted"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CollectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Collections"
        ],
        "summary": "Update collection",
        "description": "Update collection information. Only provided fields are updated.",
        "operationId": "update_collection_collections__collection_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Collection Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CollectionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CollectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Collections"
        ],
        "summary": "Soft delete collection",
        "description": "Soft delete a collection.",
        "operationId": "delete_collection_collections__collection_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Collection Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/collections/{collection_id}/videos": {
      "get": {
        "tags": [
          "Collections"
        ],
        "summary": "Get collection videos",
        "description": "Get videos in a collection, ordered by position.",
        "operationId": "get_collection_videos_collections__collection_id__videos_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Collection Id"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include soft-deleted videos",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include soft-deleted videos"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_VideoResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/collections/{collection_id}/videos/{video_id}": {
      "post": {
        "tags": [
          "Collections"
        ],
        "summary": "Add video to collection",
        "description": "Add a video to a collection with optional position.",
        "operationId": "add_video_to_collection_collections__collection_id__videos__video_id__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Collection Id"
            }
          },
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          },
          {
            "name": "position",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Position in collection",
              "title": "Position"
            },
            "description": "Position in collection"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Collections"
        ],
        "summary": "Remove video from collection",
        "description": "Remove a video from a collection.",
        "operationId": "remove_video_from_collection_collections__collection_id__videos__video_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Collection Id"
            }
          },
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tags": {
      "get": {
        "tags": [
          "Tags"
        ],
        "summary": "List tags",
        "description": "Get a paginated list of tags.",
        "operationId": "list_tags_tags_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by name (partial match)",
              "title": "Name"
            },
            "description": "Filter by name (partial match)"
          },
          {
            "name": "min_usage_count",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Minimum usage count",
              "default": 0,
              "title": "Min Usage Count"
            },
            "description": "Minimum usage count"
          },
          {
            "name": "order_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Sort by: name or usage_count",
              "default": "name",
              "title": "Order By"
            },
            "description": "Sort by: name or usage_count"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_TagResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Tags"
        ],
        "summary": "Create tag",
        "description": "Create a new tag (name will be normalized to lowercase).",
        "operationId": "create_tag_tags_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TagCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tags/{tag_id}": {
      "get": {
        "tags": [
          "Tags"
        ],
        "summary": "Get tag by ID",
        "description": "Get detailed information about a specific tag.",
        "operationId": "get_tag_tags__tag_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Tag Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Tags"
        ],
        "summary": "Delete tag",
        "description": "Delete a tag. Tags with usage_count > 0 cannot be deleted directly.",
        "operationId": "delete_tag_tags__tag_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Tag Id"
            }
          },
          {
            "name": "force",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Force delete even if in use",
              "default": false,
              "title": "Force"
            },
            "description": "Force delete even if in use"
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tags/{tag_id}/videos": {
      "get": {
        "tags": [
          "Tags"
        ],
        "summary": "Get videos with tag",
        "description": "Get videos that have a specific tag.",
        "operationId": "get_tag_videos_tags__tag_id__videos_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Tag Id"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include soft-deleted videos",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include soft-deleted videos"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_VideoResponse_"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tags/videos/{video_id}/set": {
      "post": {
        "tags": [
          "Tags"
        ],
        "summary": "Set video tags",
        "description": "Replace all tags on a video with the provided list.",
        "operationId": "set_video_tags_tags_videos__video_id__set_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TagsSet"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TagResponse"
                  },
                  "title": "Response Set Video Tags Tags Videos  Video Id  Set Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tags/videos/{video_id}/add": {
      "post": {
        "tags": [
          "Tags"
        ],
        "summary": "Add tags to video",
        "description": "Add tags to a video without removing existing ones.",
        "operationId": "add_video_tags_tags_videos__video_id__add_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TagsSet"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TagResponse"
                  },
                  "title": "Response Add Video Tags Tags Videos  Video Id  Add Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tags/videos/{video_id}/{tag_id}": {
      "delete": {
        "tags": [
          "Tags"
        ],
        "summary": "Remove tag from video",
        "description": "Remove a specific tag from a video.",
        "operationId": "remove_video_tag_tags_videos__video_id___tag_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          },
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Tag Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/search": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Search videos",
        "description": "Full-text search across video metadata using FTS5. Supports AND, OR, NOT operators and phrase matching with quotes.",
        "operationId": "search_videos_search_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Search query",
              "title": "Q"
            },
            "description": "Search query"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include soft-deleted videos",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include soft-deleted videos"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_VideoResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/search/suggestions": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Get search suggestions",
        "description": "Get autocomplete suggestions based on partial query.",
        "operationId": "search_suggestions_search_suggestions_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 2,
              "description": "Partial search query",
              "title": "Q"
            },
            "description": "Partial search query"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "description": "Maximum suggestions",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum suggestions"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchSuggestionsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/search/facets": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Get search facets",
        "description": "Get faceted counts for building filter UIs. Results are cached briefly.",
        "operationId": "get_facets_search_facets_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "include_deleted",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include soft-deleted videos",
              "default": false,
              "title": "Include Deleted"
            },
            "description": "Include soft-deleted videos"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FacetsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/search/saved": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "List saved searches",
        "description": "Get all saved searches.",
        "operationId": "list_saved_searches_search_saved_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SavedSearchListResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Search"
        ],
        "summary": "Create saved search",
        "description": "Save a search query for later reuse.",
        "operationId": "create_saved_search_search_saved_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SavedSearchCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SavedSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/search/saved/{search_id}": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Get saved search",
        "description": "Get a saved search by ID.",
        "operationId": "get_saved_search_search_saved__search_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "search_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Search Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SavedSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Search"
        ],
        "summary": "Delete saved search",
        "description": "Delete a saved search.",
        "operationId": "delete_saved_search_search_saved__search_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "search_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Search Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/files/videos/{video_id}/organize": {
      "post": {
        "tags": [
          "Files"
        ],
        "summary": "Organize video files",
        "description": "Move video (and NFO) files to organized location based on path pattern.",
        "operationId": "organize_video_files_videos__video_id__organize_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrganizeRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Files organized successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrganizeResponse"
                }
              }
            }
          },
          "404": {
            "description": "Video not found"
          },
          "409": {
            "description": "Target path already exists"
          },
          "500": {
            "description": "File operation failed"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/files/videos/{video_id}": {
      "delete": {
        "tags": [
          "Files"
        ],
        "summary": "Delete video files",
        "description": "Delete video files (soft delete to trash or hard delete permanently).",
        "operationId": "delete_video_files_files_videos__video_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          },
          {
            "name": "hard_delete",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "If true, permanently delete files",
              "default": false,
              "title": "Hard Delete"
            },
            "description": "If true, permanently delete files"
          }
        ],
        "responses": {
          "200": {
            "description": "Files deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteResponse"
                }
              }
            }
          },
          "404": {
            "description": "Video not found"
          },
          "500": {
            "description": "Delete operation failed"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/files/videos/{video_id}/restore": {
      "post": {
        "tags": [
          "Files"
        ],
        "summary": "Restore video from trash",
        "description": "Restore a soft-deleted video from the trash directory.",
        "operationId": "restore_video_files_videos__video_id__restore_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RestoreRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Video restored successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RestoreResponse"
                }
              }
            }
          },
          "404": {
            "description": "Video not found or not in trash"
          },
          "409": {
            "description": "Restore target already exists"
          },
          "500": {
            "description": "Restore operation failed"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/files/videos/{video_id}/duplicates": {
      "get": {
        "tags": [
          "Files"
        ],
        "summary": "Find duplicate videos",
        "description": "Find potential duplicate videos by hash and/or metadata.",
        "operationId": "find_duplicates_files_videos__video_id__duplicates_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Video Id"
            }
          },
          {
            "name": "method",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Detection method: 'hash', 'metadata', or 'all'",
              "default": "all",
              "title": "Method"
            },
            "description": "Detection method: 'hash', 'metadata', or 'all'"
          }
        ],
        "responses": {
          "200": {
            "description": "Duplicates found (may be empty list)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DuplicatesResponse"
                }
              }
            }
          },
          "404": {
            "description": "Video not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/files/duplicates/resolve": {
      "post": {
        "tags": [
          "Files"
        ],
        "summary": "Resolve duplicate videos",
        "description": "Keep one video and remove the duplicates.",
        "operationId": "resolve_duplicates_files_duplicates_resolve_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResolveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Duplicates resolved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResolveResponse"
                }
              }
            }
          },
          "404": {
            "description": "Video not found"
          },
          "500": {
            "description": "Resolution failed"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/files/library/verify": {
      "get": {
        "tags": [
          "Files"
        ],
        "summary": "Verify library integrity",
        "description": "Scan database and filesystem to find missing files, orphans, and broken links.",
        "operationId": "verify_library_files_library_verify_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "scan_orphans",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Also scan for files not in database",
              "default": true,
              "title": "Scan Orphans"
            },
            "description": "Also scan for files not in database"
          }
        ],
        "responses": {
          "200": {
            "description": "Verification complete",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerifyResponse"
                }
              }
            }
          },
          "500": {
            "description": "Verification failed"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/files/library/repair": {
      "post": {
        "tags": [
          "Files"
        ],
        "summary": "Repair library issues",
        "description": "Automatically repair issues found during verification.",
        "operationId": "repair_library_files_library_repair_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RepairRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Repairs completed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RepairResponse"
                }
              }
            }
          },
          "500": {
            "description": "Repair failed"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/jobs": {
      "post": {
        "tags": [
          "Jobs"
        ],
        "summary": "Submit a background job",
        "description": "Submit a new background job for async processing. Returns 202 Accepted with job details.",
        "operationId": "submit_job_jobs_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JobSubmitRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Jobs"
        ],
        "summary": "List jobs",
        "description": "List all jobs with optional status filter.",
        "operationId": "list_jobs_jobs_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/JobStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by job status",
              "title": "Status"
            },
            "description": "Filter by job status"
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/JobType"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by job type",
              "title": "Type"
            },
            "description": "Filter by job type"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum jobs to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum jobs to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/jobs/metrics": {
      "get": {
        "tags": [
          "Jobs"
        ],
        "summary": "Get job queue metrics",
        "description": "Get monitoring metrics for the job queue including success rate, average duration, queue depth, and per-type breakdowns.",
        "operationId": "get_metrics_jobs_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobMetricsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/jobs/scheduled": {
      "post": {
        "tags": [
          "Jobs"
        ],
        "summary": "Create scheduled task",
        "description": "Create a new scheduled task with cron expression.",
        "operationId": "create_scheduled_task_jobs_scheduled_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduledTaskCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledTaskResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Jobs"
        ],
        "summary": "List scheduled tasks",
        "description": "List all scheduled tasks with optional filtering.",
        "operationId": "list_scheduled_tasks_jobs_scheduled_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "enabled_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Only return enabled tasks",
              "default": false,
              "title": "Enabled Only"
            },
            "description": "Only return enabled tasks"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledTaskListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/jobs/scheduled/{task_id}": {
      "get": {
        "tags": [
          "Jobs"
        ],
        "summary": "Get scheduled task",
        "description": "Get a scheduled task by ID.",
        "operationId": "get_scheduled_task_jobs_scheduled__task_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledTaskResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Jobs"
        ],
        "summary": "Update scheduled task",
        "description": "Update a scheduled task's settings.",
        "operationId": "update_scheduled_task_jobs_scheduled__task_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Task Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduledTaskUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledTaskResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Jobs"
        ],
        "summary": "Delete scheduled task",
        "description": "Delete a scheduled task.",
        "operationId": "delete_scheduled_task_jobs_scheduled__task_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/jobs/scheduled/{task_id}/run": {
      "post": {
        "tags": [
          "Jobs"
        ],
        "summary": "Run scheduled task now",
        "description": "Manually trigger a scheduled task to run immediately.",
        "operationId": "run_scheduled_task_now_jobs_scheduled__task_id__run_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/jobs/{job_id}": {
      "get": {
        "tags": [
          "Jobs"
        ],
        "summary": "Get job status",
        "description": "Get the current status and progress of a job.",
        "operationId": "get_job_jobs__job_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Jobs"
        ],
        "summary": "Cancel a job",
        "description": "Cancel a pending or running job. Has no effect on completed jobs.",
        "operationId": "cancel_job_jobs__job_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/videos/bulk/update": {
      "post": {
        "tags": [
          "Bulk Operations"
        ],
        "summary": "Bulk update videos",
        "description": "Update multiple videos with the same field values in a single transaction.",
        "operationId": "bulk_update_videos_videos_bulk_update_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkOperationResult"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/videos/bulk/delete": {
      "post": {
        "tags": [
          "Bulk Operations"
        ],
        "summary": "Bulk delete videos",
        "description": "Delete multiple videos (soft delete by default, hard delete optional).",
        "operationId": "bulk_delete_videos_videos_bulk_delete_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkDeleteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkOperationResult"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/videos/bulk/status": {
      "post": {
        "tags": [
          "Bulk Operations"
        ],
        "summary": "Bulk update status",
        "description": "Update status for multiple videos in a single transaction.",
        "operationId": "bulk_update_status_videos_bulk_status_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkStatusRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkOperationResult"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/videos/bulk/tags": {
      "post": {
        "tags": [
          "Bulk Operations"
        ],
        "summary": "Bulk apply tags",
        "description": "Apply tags to multiple videos. Can add to existing tags or replace them.",
        "operationId": "bulk_apply_tags_videos_bulk_tags_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkTagsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkOperationResult"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/videos/bulk/collections": {
      "post": {
        "tags": [
          "Bulk Operations"
        ],
        "summary": "Bulk add to collection",
        "description": "Add multiple videos to a collection in a single transaction.",
        "operationId": "bulk_add_to_collection_videos_bulk_collections_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkCollectionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkOperationResult"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/videos/bulk/organize": {
      "post": {
        "tags": [
          "Bulk Operations"
        ],
        "summary": "Bulk update file paths",
        "description": "Update file paths for multiple videos after file organization.",
        "operationId": "bulk_organize_videos_videos_bulk_organize_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkOrganizeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkOperationResult"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/imports/youtube": {
      "post": {
        "tags": [
          "Imports"
        ],
        "summary": "Import from YouTube",
        "description": "Import videos from YouTube URLs. Small batches run synchronously, larger batches require background task queue.",
        "operationId": "import_from_youtube_imports_youtube_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/YouTubeImportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImportResult"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Import endpoints disabled"
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/imports/imvdb": {
      "post": {
        "tags": [
          "Imports"
        ],
        "summary": "Import from IMVDb",
        "description": "Import video metadata from IMVDb by ID or search query.",
        "operationId": "import_from_imvdb_imports_imvdb_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IMVDbImportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImportResult"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/exports/nfo": {
      "post": {
        "tags": [
          "Exports"
        ],
        "summary": "Export NFO files",
        "description": "Regenerate NFO files for videos. NFO files are written alongside video files in the library.",
        "operationId": "export_nfo_files_exports_nfo_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NFOExportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NFOExportResult"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/exports/playlist": {
      "post": {
        "tags": [
          "Exports"
        ],
        "summary": "Export playlist",
        "description": "Export videos as a playlist in M3U, CSV, or JSON format.",
        "operationId": "export_playlist_exports_playlist_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlaylistExportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaylistExportResult"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/backup": {
      "get": {
        "tags": [
          "Backup"
        ],
        "summary": "List backups",
        "description": "List all available backup archives.\n\nReturns backup metadata including filename, size, creation timestamp,\nand contents. Results are sorted by creation time (newest first).",
        "operationId": "list_backups_backup_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BackupListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Backup"
        ],
        "summary": "Create backup",
        "description": "Trigger an on-demand system backup.\n\nCreates a background job that generates a .zip archive containing:\n- **config.yaml**: User configuration file\n- **fuzzbin.db**: Library database (using SQLite backup API)\n- **.thumbnails/**: Cached thumbnail images\n\nThe backup job runs asynchronously. Use the returned `job_id` to track\nprogress via `GET /jobs/{job_id}` or WebSocket `/ws/jobs/{job_id}`.\n\nOld backups exceeding the retention count are automatically deleted.",
        "operationId": "create_backup_backup_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BackupCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BackupCreateResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/backup/{filename}": {
      "get": {
        "tags": [
          "Backup"
        ],
        "summary": "Download backup",
        "description": "Download a backup archive by filename.\n\nReturns the .zip file as a binary download. The archive can be\nextracted and restored manually without the program running.",
        "operationId": "download_backup_backup__filename__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/backup/{filename}/verify": {
      "get": {
        "tags": [
          "Backup"
        ],
        "summary": "Verify backup integrity",
        "description": "Verify a backup archive's integrity.\n\nChecks:\n- ZIP file structure and CRC checksums\n- Database SQLite integrity (if database is included)\n- Presence of expected files\n\nReturns verification results including any errors found.",
        "operationId": "verify_backup_backup__filename__verify_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BackupVerifyResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/config": {
      "get": {
        "tags": [
          "Configuration"
        ],
        "summary": "Get current configuration",
        "description": "Retrieve the complete current configuration as a nested dictionary.\n\nThe configuration includes all settings for HTTP, logging, database, APIs,\nand other subsystems. API credentials are returned in full (single-user mode).",
        "operationId": "get_config_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Configuration"
        ],
        "summary": "Update configuration",
        "description": "Update one or more configuration fields.\n\n**Safety Levels:**\n- `safe`: Changes apply immediately with no side effects\n- `requires_reload`: Components need reloading (API clients, connections)\n- `affects_state`: Changes affect persistent state (database paths, directories)\n\nFor `requires_reload` or `affects_state` fields, returns **409 Conflict** unless\n`force=true` is set. The response includes `required_actions` describing what\nneeds to happen to fully apply the changes.\n\n**Examples:**\n```json\n{\n    \"updates\": {\n        \"http.timeout\": 60,\n        \"logging.level\": \"DEBUG\"\n    },\n    \"description\": \"Increased timeout for slow network\"\n}\n```",
        "operationId": "update_config_config_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfigUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigUpdateResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "409": {
            "description": "Configuration change requires additional actions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigConflictResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/config/field/{path}": {
      "get": {
        "tags": [
          "Configuration"
        ],
        "summary": "Get configuration field",
        "description": "Retrieve a specific configuration field by dot-notation path.\n\nExamples:\n- `http.timeout` - HTTP timeout setting\n- `apis.discogs.rate_limit.requests_per_minute` - Discogs rate limit\n- `logging.level` - Current log level",
        "operationId": "get_config_field_config_field__path__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigFieldResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/config/history": {
      "get": {
        "tags": [
          "Configuration"
        ],
        "summary": "Get configuration history",
        "description": "Retrieve recent configuration change history.\n\nHistory entries include timestamps, descriptions, and undo/redo availability.\nUse this to review changes before performing undo/redo operations.",
        "operationId": "get_config_history_config_history_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum entries to return",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum entries to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigHistoryResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/config/undo": {
      "post": {
        "tags": [
          "Configuration"
        ],
        "summary": "Undo configuration change",
        "description": "Undo the most recent configuration change.\n\nRestores the previous configuration state from history.\nThe change is automatically saved to the configuration file.",
        "operationId": "undo_config_config_undo_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "steps",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "description": "Number of steps to undo",
              "default": 1,
              "title": "Steps"
            },
            "description": "Number of steps to undo"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigUndoRedoResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/config/redo": {
      "post": {
        "tags": [
          "Configuration"
        ],
        "summary": "Redo configuration change",
        "description": "Redo a previously undone configuration change.\n\nRestores the next configuration state from history.\nThe change is automatically saved to the configuration file.",
        "operationId": "redo_config_config_redo_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "steps",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "description": "Number of steps to redo",
              "default": 1,
              "title": "Steps"
            },
            "description": "Number of steps to redo"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigUndoRedoResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/config/safety/{path}": {
      "get": {
        "tags": [
          "Configuration"
        ],
        "summary": "Get field safety level",
        "description": "Get the safety level for a configuration field path.\n\nUse this to check what side effects a configuration change may have\nbefore submitting an update request.\n\n**Safety Levels:**\n- `safe`: No side effects, changes apply immediately\n- `requires_reload`: Components need reloading after change\n- `affects_state`: Changes affect persistent state",
        "operationId": "get_field_safety_config_safety__path__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SafetyLevelInfo"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/config/clients": {
      "get": {
        "tags": [
          "Configuration"
        ],
        "summary": "List registered API clients",
        "description": "List all API clients registered with the configuration manager.\n\nRegistered clients can be hot-reloaded when their configuration changes.",
        "operationId": "list_clients_config_clients_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClientListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/config/clients/{name}/stats": {
      "get": {
        "tags": [
          "Configuration"
        ],
        "summary": "Get API client statistics",
        "description": "Get real-time statistics for a registered API client.\n\nStatistics include:\n- Active request count\n- Concurrency utilization\n- Rate limit token availability\n- Rate limit capacity percentage",
        "operationId": "get_client_stats_config_clients__name__stats_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClientStatsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ytdlp/search": {
      "get": {
        "tags": [
          "yt-dlp"
        ],
        "summary": "Search YouTube for videos",
        "description": "Search YouTube for music videos by artist and track title.\n\nUses yt-dlp to query YouTube and returns metadata for matching videos.\nResults are sorted by relevance. The search query combines artist and track\ntitle for best results.\n\n**Example query:** `artist=Nirvana&track_title=Smells Like Teen Spirit&max_results=5`",
        "operationId": "search_youtube_ytdlp_search_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "artist",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 200,
              "description": "Artist name to search for",
              "title": "Artist"
            },
            "description": "Artist name to search for"
          },
          {
            "name": "track_title",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 200,
              "description": "Track/song title to search for",
              "title": "Track Title"
            },
            "description": "Track/song title to search for"
          },
          {
            "name": "max_results",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "description": "Maximum number of results to return",
              "default": 5,
              "title": "Max Results"
            },
            "description": "Maximum number of results to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/YTDLPSearchResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ytdlp/info/{video_id}": {
      "get": {
        "tags": [
          "yt-dlp"
        ],
        "summary": "Get video metadata",
        "description": "Get detailed metadata for a single YouTube video.\n\nAccepts either a YouTube video ID (e.g., `dQw4w9WgXcQ`) or a full URL.\nReturns video title, channel, view count, duration, and other metadata.",
        "operationId": "get_video_info_ytdlp_info__video_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Video Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/YTDLPVideoInfoResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ytdlp/download": {
      "post": {
        "tags": [
          "yt-dlp"
        ],
        "summary": "Download a YouTube video",
        "description": "Submit a YouTube video download job.\n\nThe download runs as a background job. Connect to `/ws/jobs/{job_id}` for\nreal-time progress updates via WebSocket.\n\n**Path validation:** The `output_path` must be within the configured library\ndirectory. Relative paths are resolved relative to the library directory.\n\n**Progress tracking:** Progress updates include download percentage, speed,\nand ETA. Subscribe to the WebSocket endpoint to receive real-time updates.\n\n**Cancellation:** Use `DELETE /ytdlp/download/{job_id}` to cancel an\nin-progress download.",
        "operationId": "download_video_ytdlp_download_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/YTDLPDownloadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/ytdlp/download/{job_id}": {
      "delete": {
        "tags": [
          "yt-dlp"
        ],
        "summary": "Cancel a download",
        "description": "Cancel an in-progress YouTube video download.\n\nCancellation is cooperative - the download will stop at the next progress\ncheck. Already downloaded data may be partially saved or cleaned up.\n\nReturns 204 No Content on successful cancellation.\nReturns 400 if the job has already completed, failed, or been cancelled.\nReturns 404 if the job does not exist.",
        "operationId": "cancel_download_ytdlp_download__job_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "401": {
            "description": "Unauthorized - Authentication required or token invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or account disabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input or business rule violation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ArtistCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Artist name"
          },
          "biography": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Biography",
            "description": "Artist biography"
          },
          "image_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Url",
            "description": "URL to artist image"
          },
          "imvdb_entity_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Imvdb Entity Id",
            "description": "IMVDb entity ID"
          },
          "discogs_artist_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Discogs Artist Id",
            "description": "Discogs artist ID"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "ArtistCreate",
        "description": "Schema for creating or upserting an artist."
      },
      "ArtistResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "biography": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Biography",
            "description": "Artist biography"
          },
          "image_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Url",
            "description": "URL to artist image"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "is_deleted": {
            "type": "boolean",
            "title": "Is Deleted",
            "default": false
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At"
          },
          "imvdb_entity_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Imvdb Entity Id"
          },
          "discogs_artist_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Discogs Artist Id"
          },
          "video_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Count",
            "description": "Number of videos by this artist"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "ArtistResponse",
        "description": "Full artist response with all fields."
      },
      "ArtistUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Artist name"
          },
          "biography": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Biography",
            "description": "Artist biography"
          },
          "image_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Url",
            "description": "URL to artist image"
          },
          "imvdb_entity_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Imvdb Entity Id",
            "description": "IMVDb entity ID"
          },
          "discogs_artist_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Discogs Artist Id",
            "description": "Discogs artist ID"
          }
        },
        "type": "object",
        "title": "ArtistUpdate",
        "description": "Schema for updating an existing artist (all fields optional)."
      },
      "BackupCreateRequest": {
        "properties": {
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional description for the backup",
            "examples": [
              "Pre-upgrade backup"
            ]
          }
        },
        "type": "object",
        "title": "BackupCreateRequest",
        "description": "Request to create a new backup."
      },
      "BackupCreateResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "title": "Job Id",
            "description": "ID of the background backup job",
            "examples": [
              "550e8400-e29b-41d4-a716-446655440000"
            ]
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message",
            "examples": [
              "Backup job submitted successfully"
            ]
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "message"
        ],
        "title": "BackupCreateResponse",
        "description": "Response when a backup job is submitted.\n\nThe backup runs as a background job. Poll the job status endpoint\nfor progress and completion."
      },
      "BackupInfo": {
        "properties": {
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Name of the backup file (e.g., 'fuzzbin_backup_20251222_140530.zip')",
            "examples": [
              "fuzzbin_backup_20251222_140530.zip"
            ]
          },
          "size_bytes": {
            "type": "integer",
            "title": "Size Bytes",
            "description": "Size of the backup archive in bytes",
            "examples": [
              15728640
            ]
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 timestamp when the backup was created",
            "examples": [
              "2025-12-22T14:05:30+00:00"
            ]
          },
          "contains": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Contains",
            "description": "List of items included in backup: 'config', 'database', 'thumbnails'",
            "examples": [
              [
                "config",
                "database",
                "thumbnails"
              ]
            ]
          }
        },
        "type": "object",
        "required": [
          "filename",
          "size_bytes",
          "created_at",
          "contains"
        ],
        "title": "BackupInfo",
        "description": "Information about a backup archive.\n\nReturned when listing or creating backups."
      },
      "BackupListResponse": {
        "properties": {
          "backups": {
            "items": {
              "$ref": "#/components/schemas/BackupInfo"
            },
            "type": "array",
            "title": "Backups",
            "description": "List of available backup archives, sorted by creation time (newest first)"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of backups available",
            "examples": [
              7
            ]
          }
        },
        "type": "object",
        "required": [
          "backups",
          "total"
        ],
        "title": "BackupListResponse",
        "description": "Response containing list of available backups."
      },
      "BackupVerifyResponse": {
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "Valid",
            "description": "True if backup passed all integrity checks"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Name of the verified backup file"
          },
          "contains": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Contains",
            "description": "List of items found in backup: 'config', 'database', 'thumbnails'"
          },
          "database_valid": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Database Valid",
            "description": "True if database passed SQLite integrity check (null if no database in backup)"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "description": "List of error messages if verification failed"
          }
        },
        "type": "object",
        "required": [
          "valid",
          "filename",
          "contains"
        ],
        "title": "BackupVerifyResponse",
        "description": "Response from backup verification."
      },
      "BulkCollectionRequest": {
        "properties": {
          "video_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 1,
            "title": "Video Ids",
            "description": "Video IDs to add"
          },
          "collection_id": {
            "type": "integer",
            "title": "Collection Id",
            "description": "Collection ID to add videos to"
          }
        },
        "type": "object",
        "required": [
          "video_ids",
          "collection_id"
        ],
        "title": "BulkCollectionRequest",
        "description": "Request for bulk collection assignment."
      },
      "BulkDeleteRequest": {
        "properties": {
          "video_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 1,
            "title": "Video Ids",
            "description": "Video IDs to delete"
          },
          "hard_delete": {
            "type": "boolean",
            "title": "Hard Delete",
            "description": "Permanently delete (True) or soft delete (False)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "video_ids"
        ],
        "title": "BulkDeleteRequest",
        "description": "Request for bulk deleting videos."
      },
      "BulkOperationResult": {
        "properties": {
          "success_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Success Ids",
            "description": "IDs that succeeded"
          },
          "failed_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Failed Ids",
            "description": "IDs that failed"
          },
          "errors": {
            "additionalProperties": true,
            "type": "object",
            "title": "Errors",
            "description": "Error messages keyed by ID"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total items processed"
          },
          "success_count": {
            "type": "integer",
            "title": "Success Count",
            "description": "Number of successful operations"
          },
          "failed_count": {
            "type": "integer",
            "title": "Failed Count",
            "description": "Number of failed operations"
          }
        },
        "type": "object",
        "required": [
          "total",
          "success_count",
          "failed_count"
        ],
        "title": "BulkOperationResult",
        "description": "Response for bulk operations showing success/failure per ID."
      },
      "BulkOrganizeItem": {
        "properties": {
          "video_id": {
            "type": "integer",
            "title": "Video Id",
            "description": "Video ID"
          },
          "video_file_path": {
            "type": "string",
            "title": "Video File Path",
            "description": "New video file path"
          },
          "nfo_file_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nfo File Path",
            "description": "New NFO file path"
          }
        },
        "type": "object",
        "required": [
          "video_id",
          "video_file_path"
        ],
        "title": "BulkOrganizeItem",
        "description": "Single item for bulk organize request."
      },
      "BulkOrganizeRequest": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/BulkOrganizeItem"
            },
            "type": "array",
            "minItems": 1,
            "title": "Items",
            "description": "Videos with new file paths"
          }
        },
        "type": "object",
        "required": [
          "items"
        ],
        "title": "BulkOrganizeRequest",
        "description": "Request for bulk file path updates after organization."
      },
      "BulkStatusRequest": {
        "properties": {
          "video_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 1,
            "title": "Video Ids",
            "description": "Video IDs to update"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "New status value",
            "examples": [
              "organized",
              "archived",
              "failed"
            ]
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Reason for status change"
          }
        },
        "type": "object",
        "required": [
          "video_ids",
          "status"
        ],
        "title": "BulkStatusRequest",
        "description": "Request for bulk status update."
      },
      "BulkTagsRequest": {
        "properties": {
          "video_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 1,
            "title": "Video Ids",
            "description": "Video IDs to tag"
          },
          "tag_names": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Tag Names",
            "description": "Tag names to apply",
            "examples": [
              [
                "rock",
                "90s",
                "mtv"
              ]
            ]
          },
          "replace": {
            "type": "boolean",
            "title": "Replace",
            "description": "Replace existing tags (True) or add to them (False)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "video_ids",
          "tag_names"
        ],
        "title": "BulkTagsRequest",
        "description": "Request for bulk tag application."
      },
      "BulkUpdateRequest": {
        "properties": {
          "video_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 1,
            "title": "Video Ids",
            "description": "Video IDs to update"
          },
          "updates": {
            "additionalProperties": true,
            "type": "object",
            "title": "Updates",
            "description": "Fields to update (same as VideoUpdate schema)",
            "examples": [
              {
                "genre": "Rock",
                "studio": "Universal"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "video_ids",
          "updates"
        ],
        "title": "BulkUpdateRequest",
        "description": "Request for bulk updating videos."
      },
      "ClientInfo": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Client identifier",
            "examples": [
              "discogs",
              "imvdb"
            ]
          },
          "base_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Base Url",
            "description": "Base URL for the API",
            "examples": [
              "https://api.discogs.com"
            ]
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "ClientInfo",
        "description": "Information about a registered API client."
      },
      "ClientListResponse": {
        "properties": {
          "clients": {
            "items": {
              "$ref": "#/components/schemas/ClientInfo"
            },
            "type": "array",
            "title": "Clients",
            "description": "List of registered API clients"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of registered clients"
          }
        },
        "type": "object",
        "required": [
          "clients",
          "total"
        ],
        "title": "ClientListResponse",
        "description": "Response containing list of registered API clients."
      },
      "ClientStatsResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Client identifier",
            "examples": [
              "discogs"
            ]
          },
          "active_requests": {
            "type": "integer",
            "title": "Active Requests",
            "description": "Number of currently active requests",
            "examples": [
              3
            ]
          },
          "max_concurrent": {
            "type": "integer",
            "title": "Max Concurrent",
            "description": "Maximum allowed concurrent requests",
            "examples": [
              5
            ]
          },
          "available_tokens": {
            "type": "number",
            "title": "Available Tokens",
            "description": "Available rate limit tokens",
            "examples": [
              45.5
            ]
          },
          "rate_limit_capacity": {
            "type": "number",
            "title": "Rate Limit Capacity",
            "description": "Total rate limit token capacity (burst size)",
            "examples": [
              60.0
            ]
          },
          "utilization_pct": {
            "type": "number",
            "title": "Utilization Pct",
            "description": "Concurrency utilization percentage (0-100)",
            "examples": [
              60.0
            ]
          },
          "rate_limit_pct": {
            "type": "number",
            "title": "Rate Limit Pct",
            "description": "Rate limit capacity percentage (0-100)",
            "examples": [
              75.8
            ]
          }
        },
        "type": "object",
        "required": [
          "name",
          "active_requests",
          "max_concurrent",
          "available_tokens",
          "rate_limit_capacity",
          "utilization_pct",
          "rate_limit_pct"
        ],
        "title": "ClientStatsResponse",
        "description": "Real-time statistics for an API client."
      },
      "CollectionCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Collection name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Collection description"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "CollectionCreate",
        "description": "Schema for creating a new collection."
      },
      "CollectionResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Collection description"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "is_deleted": {
            "type": "boolean",
            "title": "Is Deleted",
            "default": false
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At"
          },
          "video_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Count",
            "description": "Number of videos in this collection"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "CollectionResponse",
        "description": "Full collection response with all fields."
      },
      "CollectionUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Collection name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Collection description"
          }
        },
        "type": "object",
        "title": "CollectionUpdate",
        "description": "Schema for updating an existing collection (all fields optional)."
      },
      "ConfigConflictDetail": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path",
            "description": "Dot-notation path to the field"
          },
          "safety_level": {
            "$ref": "#/components/schemas/SafetyLevel",
            "description": "Safety level of the field"
          },
          "current_value": {
            "title": "Current Value",
            "description": "Current value of the field"
          },
          "requested_value": {
            "title": "Requested Value",
            "description": "Requested new value"
          }
        },
        "type": "object",
        "required": [
          "path",
          "safety_level",
          "current_value",
          "requested_value"
        ],
        "title": "ConfigConflictDetail",
        "description": "Details about a field that would cause side effects."
      },
      "ConfigConflictResponse": {
        "properties": {
          "detail": {
            "type": "string",
            "title": "Detail",
            "description": "Error message",
            "default": "Configuration change requires additional actions"
          },
          "error_type": {
            "type": "string",
            "title": "Error Type",
            "description": "Error type identifier",
            "default": "config_conflict"
          },
          "affected_fields": {
            "items": {
              "$ref": "#/components/schemas/ConfigConflictDetail"
            },
            "type": "array",
            "title": "Affected Fields",
            "description": "Fields that would cause side effects"
          },
          "required_actions": {
            "items": {
              "$ref": "#/components/schemas/RequiredAction"
            },
            "type": "array",
            "title": "Required Actions",
            "description": "Actions that would be required after update"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable explanation",
            "examples": [
              "Changes to rate limit settings require reloading the API client. Set force=true to proceed, or use the clients endpoint to reload affected clients."
            ]
          }
        },
        "type": "object",
        "required": [
          "affected_fields",
          "required_actions",
          "message"
        ],
        "title": "ConfigConflictResponse",
        "description": "Response when config update would cause side effects.\n\nReturned with HTTP 409 Conflict when REQUIRES_RELOAD or AFFECTS_STATE\nfields are modified without force=true."
      },
      "ConfigFieldResponse": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path",
            "description": "Dot-notation path to the field",
            "examples": [
              "http.timeout",
              "apis.discogs.rate_limit.requests_per_minute"
            ]
          },
          "value": {
            "title": "Value",
            "description": "Current value of the field"
          },
          "safety_level": {
            "$ref": "#/components/schemas/SafetyLevel",
            "description": "Safety level for modifying this field"
          }
        },
        "type": "object",
        "required": [
          "path",
          "value",
          "safety_level"
        ],
        "title": "ConfigFieldResponse",
        "description": "Response for a single configuration field."
      },
      "ConfigHistoryEntry": {
        "properties": {
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When the change was made"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Human-readable description of the change",
            "examples": [
              "Changed http.timeout: 30 \u2192 60"
            ]
          },
          "is_current": {
            "type": "boolean",
            "title": "Is Current",
            "description": "Whether this is the current configuration state",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "timestamp",
          "description"
        ],
        "title": "ConfigHistoryEntry",
        "description": "Entry in configuration change history."
      },
      "ConfigHistoryResponse": {
        "properties": {
          "entries": {
            "items": {
              "$ref": "#/components/schemas/ConfigHistoryEntry"
            },
            "type": "array",
            "title": "Entries",
            "description": "List of history entries (newest first)"
          },
          "current_index": {
            "type": "integer",
            "title": "Current Index",
            "description": "Index of the current configuration in history"
          },
          "can_undo": {
            "type": "boolean",
            "title": "Can Undo",
            "description": "Whether undo is available"
          },
          "can_redo": {
            "type": "boolean",
            "title": "Can Redo",
            "description": "Whether redo is available"
          }
        },
        "type": "object",
        "required": [
          "entries",
          "current_index",
          "can_undo",
          "can_redo"
        ],
        "title": "ConfigHistoryResponse",
        "description": "Response containing configuration change history."
      },
      "ConfigResponse": {
        "properties": {
          "config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Config",
            "description": "Complete configuration as nested dictionary"
          },
          "config_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Config Path",
            "description": "Path to the YAML configuration file",
            "examples": [
              "/Users/jbruns/Fuzzbin/config/config.yaml"
            ]
          }
        },
        "type": "object",
        "required": [
          "config"
        ],
        "title": "ConfigResponse",
        "description": "Full configuration response.\n\nReturns the complete current configuration state."
      },
      "ConfigUndoRedoResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the operation succeeded"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Description of the restored state",
            "examples": [
              "Restored: Changed http.timeout: 30 \u2192 60"
            ]
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "Timestamp of the restored snapshot"
          }
        },
        "type": "object",
        "required": [
          "success",
          "description",
          "timestamp"
        ],
        "title": "ConfigUndoRedoResponse",
        "description": "Response after undo or redo operation."
      },
      "ConfigUpdateRequest": {
        "properties": {
          "updates": {
            "additionalProperties": true,
            "type": "object",
            "title": "Updates",
            "description": "Dictionary mapping dot-notation paths to new values",
            "examples": [
              {
                "http.timeout": 60,
                "logging.level": "DEBUG"
              }
            ]
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional description of the change for history",
            "examples": [
              "Increased timeout for slow network"
            ]
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "description": "Force update even for REQUIRES_RELOAD or AFFECTS_STATE fields (acknowledges side effects)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "updates"
        ],
        "title": "ConfigUpdateRequest",
        "description": "Request to update one or more configuration fields."
      },
      "ConfigUpdateResponse": {
        "properties": {
          "updated_fields": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Updated Fields",
            "description": "List of field paths that were updated",
            "examples": [
              [
                "http.timeout",
                "logging.level"
              ]
            ]
          },
          "safety_level": {
            "$ref": "#/components/schemas/SafetyLevel",
            "description": "Highest safety level among updated fields"
          },
          "required_actions": {
            "items": {
              "$ref": "#/components/schemas/RequiredAction"
            },
            "type": "array",
            "title": "Required Actions",
            "description": "Actions required to fully apply the changes"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable summary of the update",
            "examples": [
              "Updated 2 fields successfully"
            ]
          }
        },
        "type": "object",
        "required": [
          "updated_fields",
          "safety_level",
          "message"
        ],
        "title": "ConfigUpdateResponse",
        "description": "Response after successful configuration update."
      },
      "DeleteResponse": {
        "properties": {
          "video_id": {
            "type": "integer",
            "title": "Video Id"
          },
          "deleted": {
            "type": "boolean",
            "title": "Deleted"
          },
          "hard_delete": {
            "type": "boolean",
            "title": "Hard Delete"
          },
          "trash_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trash Path"
          }
        },
        "type": "object",
        "required": [
          "video_id",
          "deleted",
          "hard_delete"
        ],
        "title": "DeleteResponse",
        "description": "Response for delete operation."
      },
      "DuplicateResponse": {
        "properties": {
          "video_id": {
            "type": "integer",
            "title": "Video Id"
          },
          "match_type": {
            "type": "string",
            "title": "Match Type",
            "description": "'hash', 'metadata', or 'both'"
          },
          "confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "artist": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Artist"
          },
          "file_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Path"
          },
          "file_hash": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Hash"
          }
        },
        "type": "object",
        "required": [
          "video_id",
          "match_type",
          "confidence"
        ],
        "title": "DuplicateResponse",
        "description": "Response for a single duplicate candidate."
      },
      "DuplicatesResponse": {
        "properties": {
          "video_id": {
            "type": "integer",
            "title": "Video Id"
          },
          "duplicates": {
            "items": {
              "$ref": "#/components/schemas/DuplicateResponse"
            },
            "type": "array",
            "title": "Duplicates"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "video_id",
          "duplicates",
          "total"
        ],
        "title": "DuplicatesResponse",
        "description": "Response for duplicates endpoint."
      },
      "ErrorDetail": {
        "properties": {
          "detail": {
            "type": "string",
            "title": "Detail",
            "description": "Error message"
          },
          "error_type": {
            "type": "string",
            "title": "Error Type",
            "description": "Error type identifier"
          }
        },
        "type": "object",
        "required": [
          "detail",
          "error_type"
        ],
        "title": "ErrorDetail",
        "description": "Standard error response detail."
      },
      "FacetItem": {
        "properties": {
          "value": {
            "type": "string",
            "title": "Value",
            "description": "Facet value (e.g., tag name, genre)"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of videos with this value"
          }
        },
        "type": "object",
        "required": [
          "value",
          "count"
        ],
        "title": "FacetItem",
        "description": "Single facet value with count."
      },
      "FacetsResponse": {
        "properties": {
          "tags": {
            "items": {
              "$ref": "#/components/schemas/FacetItem"
            },
            "type": "array",
            "title": "Tags",
            "description": "Tag facets with counts"
          },
          "genres": {
            "items": {
              "$ref": "#/components/schemas/FacetItem"
            },
            "type": "array",
            "title": "Genres",
            "description": "Genre facets with counts"
          },
          "years": {
            "items": {
              "$ref": "#/components/schemas/FacetItem"
            },
            "type": "array",
            "title": "Years",
            "description": "Year facets with counts"
          },
          "directors": {
            "items": {
              "$ref": "#/components/schemas/FacetItem"
            },
            "type": "array",
            "title": "Directors",
            "description": "Director facets with counts"
          },
          "total_videos": {
            "type": "integer",
            "title": "Total Videos",
            "description": "Total number of videos in the library",
            "default": 0
          }
        },
        "type": "object",
        "title": "FacetsResponse",
        "description": "Response containing all facets for filtering UI."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthCheckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Health status ('ok' or 'error')"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "API version string"
          },
          "auth_enabled": {
            "type": "boolean",
            "title": "Auth Enabled",
            "description": "Whether authentication is enabled"
          }
        },
        "type": "object",
        "required": [
          "status",
          "version",
          "auth_enabled"
        ],
        "title": "HealthCheckResponse",
        "description": "Health check endpoint response."
      },
      "IMVDbImportRequest": {
        "properties": {
          "video_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Ids",
            "description": "Specific IMVDb video IDs to import",
            "examples": [
              [
                121779770452,
                138862728833
              ]
            ]
          },
          "search_queries": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Search Queries",
            "description": "Search queries to find videos (artist + title pairs)",
            "examples": [
              [
                {
                  "artist": "Robin Thicke",
                  "title": "Blurred Lines"
                }
              ]
            ]
          }
        },
        "type": "object",
        "title": "IMVDbImportRequest",
        "description": "Request for IMVDb bulk import."
      },
      "ImportItemResult": {
        "properties": {
          "identifier": {
            "type": "string",
            "title": "Identifier",
            "description": "URL, ID, or search query identifier"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether import succeeded"
          },
          "video_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Id",
            "description": "Created/updated video ID"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if failed"
          }
        },
        "type": "object",
        "required": [
          "identifier",
          "success"
        ],
        "title": "ImportItemResult",
        "description": "Result for a single import item."
      },
      "ImportResult": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total items processed"
          },
          "success_count": {
            "type": "integer",
            "title": "Success Count",
            "description": "Successful imports"
          },
          "failed_count": {
            "type": "integer",
            "title": "Failed Count",
            "description": "Failed imports"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/ImportItemResult"
            },
            "type": "array",
            "title": "Items",
            "description": "Per-item results"
          },
          "job_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Id",
            "description": "Background job ID (if async processing)"
          }
        },
        "type": "object",
        "required": [
          "total",
          "success_count",
          "failed_count",
          "items"
        ],
        "title": "ImportResult",
        "description": "Result of an import operation."
      },
      "JobListResponse": {
        "properties": {
          "jobs": {
            "items": {
              "$ref": "#/components/schemas/JobResponse"
            },
            "type": "array",
            "title": "Jobs"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "jobs",
          "total"
        ],
        "title": "JobListResponse",
        "description": "List of jobs response."
      },
      "JobMetricsResponse": {
        "properties": {
          "total_jobs": {
            "type": "integer",
            "title": "Total Jobs",
            "description": "Total number of jobs ever submitted"
          },
          "pending_jobs": {
            "type": "integer",
            "title": "Pending Jobs",
            "description": "Jobs waiting in queue"
          },
          "waiting_jobs": {
            "type": "integer",
            "title": "Waiting Jobs",
            "description": "Jobs waiting for dependencies"
          },
          "running_jobs": {
            "type": "integer",
            "title": "Running Jobs",
            "description": "Currently executing jobs"
          },
          "completed_jobs": {
            "type": "integer",
            "title": "Completed Jobs",
            "description": "Successfully completed jobs"
          },
          "failed_jobs": {
            "type": "integer",
            "title": "Failed Jobs",
            "description": "Failed jobs"
          },
          "cancelled_jobs": {
            "type": "integer",
            "title": "Cancelled Jobs",
            "description": "Cancelled jobs"
          },
          "timeout_jobs": {
            "type": "integer",
            "title": "Timeout Jobs",
            "description": "Timed out jobs"
          },
          "success_rate": {
            "type": "number",
            "title": "Success Rate",
            "description": "Ratio of completed to terminal jobs (0.0-1.0)"
          },
          "avg_duration_seconds": {
            "type": "number",
            "title": "Avg Duration Seconds",
            "description": "Average duration of completed jobs in seconds"
          },
          "queue_depth": {
            "type": "integer",
            "title": "Queue Depth",
            "description": "Current queue depth (pending jobs)"
          },
          "by_type": {
            "additionalProperties": {
              "$ref": "#/components/schemas/JobTypeMetricsResponse"
            },
            "type": "object",
            "title": "By Type",
            "description": "Metrics broken down by job type"
          },
          "oldest_pending_age_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oldest Pending Age Seconds",
            "description": "Age of the oldest pending job in seconds"
          },
          "last_failure_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Failure At",
            "description": "When the last job failed"
          },
          "last_completion_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Completion At",
            "description": "When the last job completed"
          }
        },
        "type": "object",
        "required": [
          "total_jobs",
          "pending_jobs",
          "waiting_jobs",
          "running_jobs",
          "completed_jobs",
          "failed_jobs",
          "cancelled_jobs",
          "timeout_jobs",
          "success_rate",
          "avg_duration_seconds",
          "queue_depth",
          "by_type",
          "oldest_pending_age_seconds",
          "last_failure_at",
          "last_completion_at"
        ],
        "title": "JobMetricsResponse",
        "description": "Overall job queue metrics response.\n\nProvides monitoring data for the job queue including:\n- Job counts by status\n- Success rate and average duration\n- Queue depth\n- Per-type breakdowns"
      },
      "JobResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "type": {
            "$ref": "#/components/schemas/JobType"
          },
          "status": {
            "$ref": "#/components/schemas/JobStatus"
          },
          "progress": {
            "type": "number",
            "title": "Progress"
          },
          "current_step": {
            "type": "string",
            "title": "Current Step"
          },
          "total_items": {
            "type": "integer",
            "title": "Total Items"
          },
          "processed_items": {
            "type": "integer",
            "title": "Processed Items"
          },
          "result": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "id",
          "type",
          "status",
          "progress",
          "current_step",
          "total_items",
          "processed_items",
          "result",
          "error",
          "created_at",
          "started_at",
          "completed_at",
          "metadata"
        ],
        "title": "JobResponse",
        "description": "Job status response.\n\nContains all job information including progress and results."
      },
      "JobStatus": {
        "type": "string",
        "enum": [
          "pending",
          "waiting",
          "running",
          "completed",
          "failed",
          "cancelled",
          "timeout"
        ],
        "title": "JobStatus",
        "description": "Job status enumeration."
      },
      "JobSubmitRequest": {
        "properties": {
          "type": {
            "$ref": "#/components/schemas/JobType"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "type"
        ],
        "title": "JobSubmitRequest",
        "description": "Request to submit a new background job.\n\nAttributes:\n    type: Type of job to run\n    metadata: Job-specific parameters (varies by job type)\n\nExample:\n    >>> request = JobSubmitRequest(\n    ...     type=JobType.IMPORT_NFO,\n    ...     metadata={\"directory\": \"/path/to/nfos\", \"recursive\": True}\n    ... )"
      },
      "JobType": {
        "type": "string",
        "enum": [
          "import_nfo",
          "import_spotify",
          "download_youtube",
          "file_organize",
          "file_duplicate_resolve",
          "metadata_enrich",
          "metadata_refresh",
          "library_scan",
          "import",
          "backup"
        ],
        "title": "JobType",
        "description": "Job type enumeration."
      },
      "JobTypeMetricsResponse": {
        "properties": {
          "job_type": {
            "$ref": "#/components/schemas/JobType"
          },
          "total_jobs": {
            "type": "integer",
            "title": "Total Jobs"
          },
          "completed": {
            "type": "integer",
            "title": "Completed"
          },
          "failed": {
            "type": "integer",
            "title": "Failed"
          },
          "cancelled": {
            "type": "integer",
            "title": "Cancelled"
          },
          "timeout": {
            "type": "integer",
            "title": "Timeout"
          },
          "success_rate": {
            "type": "number",
            "title": "Success Rate"
          },
          "avg_duration_seconds": {
            "type": "number",
            "title": "Avg Duration Seconds"
          },
          "total_duration_seconds": {
            "type": "number",
            "title": "Total Duration Seconds"
          }
        },
        "type": "object",
        "required": [
          "job_type",
          "total_jobs",
          "completed",
          "failed",
          "cancelled",
          "timeout",
          "success_rate",
          "avg_duration_seconds",
          "total_duration_seconds"
        ],
        "title": "JobTypeMetricsResponse",
        "description": "Metrics for a specific job type."
      },
      "LibraryIssueResponse": {
        "properties": {
          "issue_type": {
            "type": "string",
            "title": "Issue Type"
          },
          "video_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Id"
          },
          "path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Path"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "repair_action": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Repair Action"
          }
        },
        "type": "object",
        "required": [
          "issue_type",
          "message"
        ],
        "title": "LibraryIssueResponse",
        "description": "Response for a single library issue."
      },
      "LoginRequest": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Username",
            "description": "Username for authentication",
            "examples": [
              "admin"
            ]
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 1,
            "title": "Password",
            "description": "Password for authentication",
            "examples": [
              "changeme"
            ]
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "LoginRequest",
        "description": "Request schema for user login."
      },
      "NFOExportRequest": {
        "properties": {
          "video_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Ids",
            "description": "Specific video IDs to export (exports all if not specified)"
          },
          "include_deleted": {
            "type": "boolean",
            "title": "Include Deleted",
            "description": "Include soft-deleted videos",
            "default": false
          },
          "overwrite_existing": {
            "type": "boolean",
            "title": "Overwrite Existing",
            "description": "Overwrite existing NFO files",
            "default": false
          }
        },
        "type": "object",
        "title": "NFOExportRequest",
        "description": "Request for NFO export."
      },
      "NFOExportResult": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total videos processed"
          },
          "exported_count": {
            "type": "integer",
            "title": "Exported Count",
            "description": "Successfully exported"
          },
          "skipped_count": {
            "type": "integer",
            "title": "Skipped Count",
            "description": "Skipped (no file path or exists)"
          },
          "failed_count": {
            "type": "integer",
            "title": "Failed Count",
            "description": "Failed to export"
          },
          "library_dir": {
            "type": "string",
            "title": "Library Dir",
            "description": "Library directory where NFO files are written"
          },
          "manifest_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Manifest Path",
            "description": "Path to manifest file"
          }
        },
        "type": "object",
        "required": [
          "total",
          "exported_count",
          "skipped_count",
          "failed_count",
          "library_dir",
          "manifest_path"
        ],
        "title": "NFOExportResult",
        "description": "Result of NFO export operation."
      },
      "OrganizeRequest": {
        "properties": {
          "dry_run": {
            "type": "boolean",
            "title": "Dry Run",
            "description": "If true, only return target paths without moving files",
            "default": false
          }
        },
        "type": "object",
        "title": "OrganizeRequest",
        "description": "Request body for organizing a video."
      },
      "OrganizeResponse": {
        "properties": {
          "video_id": {
            "type": "integer",
            "title": "Video Id"
          },
          "source_video_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Video Path"
          },
          "target_video_path": {
            "type": "string",
            "title": "Target Video Path"
          },
          "target_nfo_path": {
            "type": "string",
            "title": "Target Nfo Path"
          },
          "dry_run": {
            "type": "boolean",
            "title": "Dry Run"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "'moved', 'already_organized', or 'dry_run'"
          }
        },
        "type": "object",
        "required": [
          "video_id",
          "target_video_path",
          "target_nfo_path",
          "dry_run",
          "status"
        ],
        "title": "OrganizeResponse",
        "description": "Response for organize operation."
      },
      "PaginatedResponse_ArtistResponse_": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ArtistResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of items"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "Current page number"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "Items per page"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "Total number of pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "PaginatedResponse[ArtistResponse]"
      },
      "PaginatedResponse_CollectionResponse_": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/CollectionResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of items"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "Current page number"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "Items per page"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "Total number of pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "PaginatedResponse[CollectionResponse]"
      },
      "PaginatedResponse_TagResponse_": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/TagResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of items"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "Current page number"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "Items per page"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "Total number of pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "PaginatedResponse[TagResponse]"
      },
      "PaginatedResponse_VideoResponse_": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/VideoResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of items"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "Current page number"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "Items per page"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "Total number of pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "PaginatedResponse[VideoResponse]"
      },
      "PasswordChangeRequest": {
        "properties": {
          "current_password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 1,
            "title": "Current Password",
            "description": "Current password for verification"
          },
          "new_password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "New Password",
            "description": "New password (minimum 8 characters)"
          }
        },
        "type": "object",
        "required": [
          "current_password",
          "new_password"
        ],
        "title": "PasswordChangeRequest",
        "description": "Request schema for password change."
      },
      "PasswordRotationRequiredResponse": {
        "properties": {
          "detail": {
            "type": "string",
            "title": "Detail",
            "default": "Password change required"
          },
          "redirect_to": {
            "type": "string",
            "title": "Redirect To",
            "default": "/auth/set-initial-password"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "default": "Your account requires a password change before you can log in."
          }
        },
        "type": "object",
        "title": "PasswordRotationRequiredResponse",
        "description": "Response when password rotation is required."
      },
      "PlaylistExportRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "description": "Playlist name"
          },
          "output_path": {
            "type": "string",
            "minLength": 1,
            "title": "Output Path",
            "description": "Full path where playlist file will be written (including filename)"
          },
          "video_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Ids",
            "description": "Specific video IDs (exports all if not specified)"
          },
          "format": {
            "type": "string",
            "enum": [
              "m3u",
              "csv",
              "json"
            ],
            "title": "Format",
            "description": "Export format",
            "default": "m3u"
          },
          "include_deleted": {
            "type": "boolean",
            "title": "Include Deleted",
            "description": "Include soft-deleted videos",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "name",
          "output_path"
        ],
        "title": "PlaylistExportRequest",
        "description": "Request for playlist export."
      },
      "PlaylistExportResult": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Playlist name"
          },
          "format": {
            "type": "string",
            "title": "Format",
            "description": "Export format"
          },
          "total_tracks": {
            "type": "integer",
            "title": "Total Tracks",
            "description": "Number of tracks in playlist"
          },
          "file_path": {
            "type": "string",
            "title": "File Path",
            "description": "Path to exported file"
          }
        },
        "type": "object",
        "required": [
          "name",
          "format",
          "total_tracks",
          "file_path"
        ],
        "title": "PlaylistExportResult",
        "description": "Result of playlist export."
      },
      "RefreshRequest": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "Valid refresh token to exchange for new access token"
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "RefreshRequest",
        "description": "Request schema for token refresh."
      },
      "RepairRequest": {
        "properties": {
          "repair_missing_files": {
            "type": "boolean",
            "title": "Repair Missing Files",
            "description": "Update status to 'missing' for videos with missing files",
            "default": true
          },
          "repair_broken_nfos": {
            "type": "boolean",
            "title": "Repair Broken Nfos",
            "description": "Clear NFO path for videos with missing NFO files",
            "default": true
          }
        },
        "type": "object",
        "title": "RepairRequest",
        "description": "Request to repair library issues."
      },
      "RepairResponse": {
        "properties": {
          "repaired_missing_files": {
            "type": "integer",
            "title": "Repaired Missing Files"
          },
          "repaired_broken_nfos": {
            "type": "integer",
            "title": "Repaired Broken Nfos"
          },
          "total_repaired": {
            "type": "integer",
            "title": "Total Repaired"
          }
        },
        "type": "object",
        "required": [
          "repaired_missing_files",
          "repaired_broken_nfos",
          "total_repaired"
        ],
        "title": "RepairResponse",
        "description": "Response for repair operation."
      },
      "RequiredAction": {
        "properties": {
          "action_type": {
            "type": "string",
            "title": "Action Type",
            "description": "Type of action required: 'reload_client', 'reconnect_database', 'restart_cache', 'restart_service'",
            "examples": [
              "reload_client:imvdb",
              "reconnect_database",
              "restart_cache:discogs"
            ]
          },
          "target": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target",
            "description": "Target of the action (e.g., API client name)",
            "examples": [
              "imvdb",
              "discogs"
            ]
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Human-readable description of the required action",
            "examples": [
              "Restart IMVDb client to apply rate limit changes"
            ]
          }
        },
        "type": "object",
        "required": [
          "action_type",
          "description"
        ],
        "title": "RequiredAction",
        "description": "Action required after a configuration change.\n\nProvides structured information for UI/client to handle config changes\nthat require additional steps."
      },
      "ResolveRequest": {
        "properties": {
          "keep_video_id": {
            "type": "integer",
            "title": "Keep Video Id",
            "description": "ID of the video to keep"
          },
          "remove_video_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Remove Video Ids",
            "description": "IDs of duplicate videos to remove"
          },
          "hard_delete": {
            "type": "boolean",
            "title": "Hard Delete",
            "description": "If true, permanently delete. If false, soft delete.",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "keep_video_id",
          "remove_video_ids"
        ],
        "title": "ResolveRequest",
        "description": "Request to resolve duplicates."
      },
      "ResolveResponse": {
        "properties": {
          "kept_video_id": {
            "type": "integer",
            "title": "Kept Video Id"
          },
          "removed_count": {
            "type": "integer",
            "title": "Removed Count"
          },
          "removed_video_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Removed Video Ids"
          }
        },
        "type": "object",
        "required": [
          "kept_video_id",
          "removed_count",
          "removed_video_ids"
        ],
        "title": "ResolveResponse",
        "description": "Response for resolve operation."
      },
      "RestoreRequest": {
        "properties": {
          "restore_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Restore Path",
            "description": "Custom restore path. If not provided, restores to original location."
          }
        },
        "type": "object",
        "title": "RestoreRequest",
        "description": "Request body for restoring a video from trash."
      },
      "RestoreResponse": {
        "properties": {
          "video_id": {
            "type": "integer",
            "title": "Video Id"
          },
          "restored": {
            "type": "boolean",
            "title": "Restored"
          },
          "restored_path": {
            "type": "string",
            "title": "Restored Path"
          }
        },
        "type": "object",
        "required": [
          "video_id",
          "restored",
          "restored_path"
        ],
        "title": "RestoreResponse",
        "description": "Response for restore operation."
      },
      "SafetyLevel": {
        "type": "string",
        "enum": [
          "safe",
          "requires_reload",
          "affects_state"
        ],
        "title": "SafetyLevel",
        "description": "Safety level for configuration changes.\n\nDetermines what side effects a config change may have."
      },
      "SafetyLevelInfo": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path",
            "description": "Dot-notation path to the field",
            "examples": [
              "apis.discogs.rate_limit.requests_per_minute"
            ]
          },
          "safety_level": {
            "$ref": "#/components/schemas/SafetyLevel",
            "description": "Safety level for the field"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "What this safety level means for this field",
            "examples": [
              "Changing rate limit settings requires reloading the Discogs API client"
            ]
          }
        },
        "type": "object",
        "required": [
          "path",
          "safety_level",
          "description"
        ],
        "title": "SafetyLevelInfo",
        "description": "Information about a field's safety level."
      },
      "SavedSearchCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Name for the saved search"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional description"
          },
          "query": {
            "additionalProperties": true,
            "type": "object",
            "title": "Query",
            "description": "Search/filter parameters to save",
            "examples": [
              {
                "genre": "Rock",
                "search": "nirvana",
                "year_min": 1990
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "name",
          "query"
        ],
        "title": "SavedSearchCreate",
        "description": "Request to create a saved search."
      },
      "SavedSearchListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/SavedSearchResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "List of saved searches"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total count"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "SavedSearchListResponse",
        "description": "Response for listing saved searches."
      },
      "SavedSearchResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Saved search ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Saved search name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional description"
          },
          "query": {
            "additionalProperties": true,
            "type": "object",
            "title": "Query",
            "description": "Saved search/filter parameters"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "query",
          "created_at",
          "updated_at"
        ],
        "title": "SavedSearchResponse",
        "description": "Response for a saved search."
      },
      "ScheduledTaskCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "description": "Task name"
          },
          "job_type": {
            "$ref": "#/components/schemas/JobType",
            "description": "Type of job to run"
          },
          "cron_expression": {
            "type": "string",
            "title": "Cron Expression",
            "description": "Cron expression (5 fields: min hour day month weekday)",
            "examples": [
              "0 * * * *",
              "0 0 * * *",
              "*/15 * * * *"
            ]
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether task is enabled",
            "default": true
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata for the job"
          }
        },
        "type": "object",
        "required": [
          "name",
          "job_type",
          "cron_expression"
        ],
        "title": "ScheduledTaskCreate",
        "description": "Request to create a scheduled task."
      },
      "ScheduledTaskListResponse": {
        "properties": {
          "tasks": {
            "items": {
              "$ref": "#/components/schemas/ScheduledTaskResponse"
            },
            "type": "array",
            "title": "Tasks"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "tasks",
          "total"
        ],
        "title": "ScheduledTaskListResponse",
        "description": "List of scheduled tasks."
      },
      "ScheduledTaskResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "job_type": {
            "type": "string",
            "title": "Job Type"
          },
          "cron_expression": {
            "type": "string",
            "title": "Cron Expression"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "last_run_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Run At"
          },
          "next_run_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Run At"
          },
          "last_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Status"
          },
          "last_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Error"
          },
          "run_count": {
            "type": "integer",
            "title": "Run Count",
            "default": 0
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "job_type",
          "cron_expression",
          "enabled",
          "created_at",
          "updated_at"
        ],
        "title": "ScheduledTaskResponse",
        "description": "Scheduled task response."
      },
      "ScheduledTaskUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "cron_expression": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cron Expression"
          },
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          }
        },
        "type": "object",
        "title": "ScheduledTaskUpdate",
        "description": "Request to update a scheduled task."
      },
      "SearchSuggestionsResponse": {
        "properties": {
          "titles": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Titles",
            "description": "Matching video titles"
          },
          "artists": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Artists",
            "description": "Matching artist names"
          },
          "albums": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Albums",
            "description": "Matching album names"
          }
        },
        "type": "object",
        "title": "SearchSuggestionsResponse",
        "description": "Search suggestions response for autocomplete."
      },
      "SetInitialPasswordRequest": {
        "properties": {
          "username": {
            "type": "string",
            "minLength": 1,
            "title": "Username",
            "description": "Username"
          },
          "current_password": {
            "type": "string",
            "minLength": 1,
            "title": "Current Password",
            "description": "Current password (default: changeme)"
          },
          "new_password": {
            "type": "string",
            "minLength": 8,
            "title": "New Password",
            "description": "New password (min 8 characters)"
          }
        },
        "type": "object",
        "required": [
          "username",
          "current_password",
          "new_password"
        ],
        "title": "SetInitialPasswordRequest",
        "description": "Request body for setting initial password."
      },
      "TagCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Tag name (will be normalized)"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "TagCreate",
        "description": "Schema for creating a new tag."
      },
      "TagResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "normalized_name": {
            "type": "string",
            "title": "Normalized Name",
            "description": "Lowercase normalized tag name"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "usage_count": {
            "type": "integer",
            "title": "Usage Count",
            "description": "Number of videos with this tag",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "normalized_name",
          "created_at"
        ],
        "title": "TagResponse",
        "description": "Full tag response with all fields."
      },
      "TagsSet": {
        "properties": {
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "List of tag names to apply (will create if needed)"
          },
          "source": {
            "type": "string",
            "enum": [
              "manual",
              "auto"
            ],
            "title": "Source",
            "description": "Tag source",
            "default": "manual"
          }
        },
        "type": "object",
        "required": [
          "tags"
        ],
        "title": "TagsSet",
        "description": "Schema for setting tags on a video (replaces existing)."
      },
      "TokenResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token",
            "description": "JWT access token for API authentication"
          },
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "JWT refresh token for obtaining new access tokens"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "description": "Token type (always 'bearer')",
            "default": "bearer"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In",
            "description": "Access token expiration time in seconds"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "refresh_token",
          "expires_in"
        ],
        "title": "TokenResponse",
        "description": "Response schema for successful authentication."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "VerifyResponse": {
        "properties": {
          "videos_checked": {
            "type": "integer",
            "title": "Videos Checked"
          },
          "files_scanned": {
            "type": "integer",
            "title": "Files Scanned"
          },
          "missing_files": {
            "type": "integer",
            "title": "Missing Files"
          },
          "orphaned_files": {
            "type": "integer",
            "title": "Orphaned Files"
          },
          "broken_nfos": {
            "type": "integer",
            "title": "Broken Nfos"
          },
          "path_mismatches": {
            "type": "integer",
            "title": "Path Mismatches"
          },
          "total_issues": {
            "type": "integer",
            "title": "Total Issues"
          },
          "issues": {
            "items": {
              "$ref": "#/components/schemas/LibraryIssueResponse"
            },
            "type": "array",
            "title": "Issues"
          }
        },
        "type": "object",
        "required": [
          "videos_checked",
          "files_scanned",
          "missing_files",
          "orphaned_files",
          "broken_nfos",
          "path_mismatches",
          "total_issues",
          "issues"
        ],
        "title": "VerifyResponse",
        "description": "Response for library verification."
      },
      "VideoArtistResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Artist role: 'primary' or 'featured'"
          },
          "position": {
            "type": "integer",
            "title": "Position",
            "description": "Position in credits order"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "role",
          "position"
        ],
        "title": "VideoArtistResponse",
        "description": "Artist information embedded in video response."
      },
      "VideoCollectionResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "position": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Position",
            "description": "Position in collection"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "position"
        ],
        "title": "VideoCollectionResponse",
        "description": "Collection information embedded in video response."
      },
      "VideoCreate": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 500,
            "minLength": 1,
            "title": "Title",
            "description": "Video title"
          },
          "artist": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Artist",
            "description": "Primary artist name"
          },
          "album": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Album",
            "description": "Album name"
          },
          "year": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 2100.0,
                "minimum": 1900.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Year",
            "description": "Release year"
          },
          "director": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Director",
            "description": "Video director"
          },
          "genre": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Genre",
            "description": "Music genre"
          },
          "studio": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Studio",
            "description": "Production studio"
          },
          "imvdb_video_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Imvdb Video Id",
            "description": "IMVDb video ID"
          },
          "youtube_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Youtube Id",
            "description": "YouTube video ID"
          },
          "vimeo_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Vimeo Id",
            "description": "Vimeo video ID"
          },
          "video_file_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video File Path",
            "description": "Absolute path to video file"
          },
          "nfo_file_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nfo File Path",
            "description": "Absolute path to NFO file"
          }
        },
        "type": "object",
        "required": [
          "title"
        ],
        "title": "VideoCreate",
        "description": "Schema for creating a new video."
      },
      "VideoResponse": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Video title"
          },
          "artist": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Artist",
            "description": "Primary artist name"
          },
          "album": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Album",
            "description": "Album name"
          },
          "year": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 2100.0,
                "minimum": 1900.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Year",
            "description": "Release year"
          },
          "director": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Director",
            "description": "Video director"
          },
          "genre": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Genre",
            "description": "Music genre"
          },
          "studio": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Studio",
            "description": "Production studio"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "is_deleted": {
            "type": "boolean",
            "title": "Is Deleted",
            "default": false
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "default": "discovered"
          },
          "status_changed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status Changed At"
          },
          "status_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status Message"
          },
          "imvdb_video_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Imvdb Video Id"
          },
          "youtube_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Youtube Id"
          },
          "vimeo_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vimeo Id"
          },
          "video_file_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video File Path"
          },
          "video_file_path_relative": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video File Path Relative"
          },
          "nfo_file_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nfo File Path"
          },
          "nfo_file_path_relative": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nfo File Path Relative"
          },
          "file_size": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Size"
          },
          "file_checksum": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Checksum"
          },
          "file_verified_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Verified At"
          },
          "duration": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration"
          },
          "width": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Width"
          },
          "height": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Height"
          },
          "video_codec": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Codec"
          },
          "audio_codec": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audio Codec"
          },
          "container_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Container Format"
          },
          "bitrate": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bitrate"
          },
          "frame_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Frame Rate"
          },
          "audio_channels": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audio Channels"
          },
          "audio_sample_rate": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audio Sample Rate"
          },
          "aspect_ratio": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Aspect Ratio"
          },
          "download_source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Source"
          },
          "download_attempts": {
            "type": "integer",
            "title": "Download Attempts",
            "default": 0
          },
          "last_download_attempt_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Download Attempt At"
          },
          "last_download_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Download Error"
          },
          "artists": {
            "items": {
              "$ref": "#/components/schemas/VideoArtistResponse"
            },
            "type": "array",
            "title": "Artists"
          },
          "collections": {
            "items": {
              "$ref": "#/components/schemas/VideoCollectionResponse"
            },
            "type": "array",
            "title": "Collections"
          },
          "tags": {
            "items": {
              "$ref": "#/components/schemas/VideoTagResponse"
            },
            "type": "array",
            "title": "Tags"
          }
        },
        "type": "object",
        "required": [
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "VideoResponse",
        "description": "Full video response with all fields and relationships."
      },
      "VideoStatusHistoryEntry": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "History entry ID"
          },
          "video_id": {
            "type": "integer",
            "title": "Video Id",
            "description": "Video ID"
          },
          "old_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Status",
            "description": "Previous status value"
          },
          "new_status": {
            "type": "string",
            "title": "New Status",
            "description": "New status value"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Reason for status change"
          },
          "changed_at": {
            "type": "string",
            "title": "Changed At",
            "description": "ISO timestamp of status change"
          }
        },
        "type": "object",
        "required": [
          "id",
          "video_id",
          "old_status",
          "new_status",
          "changed_at"
        ],
        "title": "VideoStatusHistoryEntry",
        "description": "Single entry in video status history."
      },
      "VideoStatusUpdate": {
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "discovered",
              "queued",
              "downloading",
              "downloaded",
              "imported",
              "organized",
              "missing",
              "failed",
              "archived"
            ],
            "title": "Status",
            "description": "New video status"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Reason for status change"
          },
          "changed_by": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Changed By",
            "description": "Who changed the status"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata for status change"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "VideoStatusUpdate",
        "description": "Schema for updating video status."
      },
      "VideoTagResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Tag source: 'manual' or 'auto'"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "source"
        ],
        "title": "VideoTagResponse",
        "description": "Tag information embedded in video response."
      },
      "VideoUpdate": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Video title"
          },
          "artist": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Artist",
            "description": "Primary artist name"
          },
          "album": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Album",
            "description": "Album name"
          },
          "year": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 2100.0,
                "minimum": 1900.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Year",
            "description": "Release year"
          },
          "director": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Director",
            "description": "Video director"
          },
          "genre": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Genre",
            "description": "Music genre"
          },
          "studio": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Studio",
            "description": "Production studio"
          },
          "imvdb_video_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Imvdb Video Id",
            "description": "IMVDb video ID"
          },
          "youtube_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Youtube Id",
            "description": "YouTube video ID"
          },
          "vimeo_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Vimeo Id",
            "description": "Vimeo video ID"
          },
          "video_file_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video File Path",
            "description": "Absolute path to video file"
          },
          "nfo_file_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nfo File Path",
            "description": "Absolute path to NFO file"
          }
        },
        "type": "object",
        "title": "VideoUpdate",
        "description": "Schema for updating an existing video (all fields optional)."
      },
      "YTDLPDownloadRequest": {
        "properties": {
          "url": {
            "type": "string",
            "minLength": 1,
            "title": "Url",
            "description": "YouTube video URL or video ID"
          },
          "output_path": {
            "type": "string",
            "minLength": 1,
            "title": "Output Path",
            "description": "Relative path within library directory where the video should be saved"
          },
          "format_spec": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Format Spec",
            "description": "yt-dlp format specification (e.g., 'bestvideo[ext=mp4]+bestaudio[ext=m4a]/best[ext=mp4]/best')"
          }
        },
        "type": "object",
        "required": [
          "url",
          "output_path"
        ],
        "title": "YTDLPDownloadRequest",
        "description": "Request to download a YouTube video.\n\nAttributes:\n    url: YouTube video URL or video ID\n    output_path: Path where the video file should be saved (within library_dir)\n    format_spec: Optional yt-dlp format specification\n\nExample:\n    >>> request = YTDLPDownloadRequest(\n    ...     url=\"https://www.youtube.com/watch?v=dQw4w9WgXcQ\",\n    ...     output_path=\"Rick Astley/Never Gonna Give You Up.mp4\"\n    ... )"
      },
      "YTDLPSearchResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/YTDLPVideoInfo"
            },
            "type": "array",
            "title": "Results",
            "description": "List of video search results"
          },
          "query": {
            "type": "string",
            "title": "Query",
            "description": "Search query used"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Number of results returned"
          }
        },
        "type": "object",
        "required": [
          "results",
          "query",
          "total"
        ],
        "title": "YTDLPSearchResponse",
        "description": "Response containing YouTube search results.\n\nAttributes:\n    results: List of video metadata results\n    query: The search query used (artist + track_title)\n    total: Number of results returned"
      },
      "YTDLPVideoInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "YouTube video ID"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Video title"
          },
          "url": {
            "type": "string",
            "title": "Url",
            "description": "Full YouTube URL"
          },
          "channel": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel",
            "description": "Channel name"
          },
          "channel_follower_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channel Follower Count",
            "description": "Channel subscriber count"
          },
          "view_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "View Count",
            "description": "Video view count"
          },
          "duration": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration",
            "description": "Video duration in seconds"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "url"
        ],
        "title": "YTDLPVideoInfo",
        "description": "YouTube video metadata response.\n\nRepresents video information returned from yt-dlp.\n\nAttributes:\n    id: YouTube video ID\n    title: Video title\n    url: Full YouTube URL\n    channel: Channel name\n    channel_follower_count: Channel subscriber count\n    view_count: Video view count\n    duration: Video duration in seconds"
      },
      "YTDLPVideoInfoResponse": {
        "properties": {
          "video": {
            "$ref": "#/components/schemas/YTDLPVideoInfo",
            "description": "Video metadata"
          }
        },
        "type": "object",
        "required": [
          "video"
        ],
        "title": "YTDLPVideoInfoResponse",
        "description": "Response containing single video metadata.\n\nAttributes:\n    video: Video metadata"
      },
      "YouTubeImportRequest": {
        "properties": {
          "urls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Urls",
            "description": "YouTube video URLs to import",
            "examples": [
              [
                "https://youtube.com/watch?v=abc123",
                "https://youtu.be/def456"
              ]
            ]
          },
          "download_video": {
            "type": "boolean",
            "title": "Download Video",
            "description": "Download video files (False = metadata only)",
            "default": true
          },
          "output_directory": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Directory",
            "description": "Output directory for downloads (uses default if not specified)"
          }
        },
        "type": "object",
        "required": [
          "urls"
        ],
        "title": "YouTubeImportRequest",
        "description": "Request for YouTube import."
      }
    },
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT token obtained from POST /auth/token"
      }
    }
  },
  "tags": [
    {
      "name": "Health",
      "description": "Health check and status endpoints"
    },
    {
      "name": "Authentication",
      "description": "User authentication, token management, and password operations"
    },
    {
      "name": "Videos",
      "description": "Video CRUD operations and metadata management"
    },
    {
      "name": "Artists",
      "description": "Artist management and video associations"
    },
    {
      "name": "Collections",
      "description": "Collection management for organizing videos"
    },
    {
      "name": "Tags",
      "description": "Tag management and video categorization"
    },
    {
      "name": "Search",
      "description": "Full-text search across the video library"
    },
    {
      "name": "Files",
      "description": "File operations: organize, delete, restore, verify, and duplicate detection"
    },
    {
      "name": "Jobs",
      "description": "Background job submission, status tracking, and cancellation"
    },
    {
      "name": "WebSocket",
      "description": "Real-time progress updates via WebSocket"
    },
    {
      "name": "Bulk Operations",
      "description": "Batch operations for updating, deleting, tagging, and organizing multiple videos"
    },
    {
      "name": "Imports",
      "description": "Import workflows for YouTube and IMVDb content"
    },
    {
      "name": "Exports",
      "description": "Export NFO metadata files and generate playlists"
    },
    {
      "name": "Backup",
      "description": "System backup creation, listing, download, and verification"
    },
    {
      "name": "Configuration",
      "description": "Runtime configuration management with history/undo support and safety level enforcement"
    },
    {
      "name": "yt-dlp",
      "description": "YouTube video search, metadata retrieval, and download with progress tracking"
    }
  ]
}